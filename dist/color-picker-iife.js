(function(){"use strict";const o='*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}:host{--clr-grad: #000}.colorPicker{--dark-grey: #909090;--light-grey: #f0f0f4;--h: 2rem;background:#eae5dc;padding:.75em;display:inline-grid;grid-template-columns:var(--h) auto;align-items:center;justify-items:flex-start;gap:.5em;font-family:system-ui,sans-serif;font-size:.75rem;font-weight:600;color:#3b2702;text-shadow:0 0 2px var(--light-grey)}input{cursor:pointer;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}input,#picker-wrapper{outline-width:0;outline-color:#0000;transition:outline .25s ease-in-out}input:focus{outline:none}input:focus-visible,#picker-wrapper:has(:focus-within):has(:focus-visible){outline-width:max(1px,.43em);outline-style:auto;outline-color:Highlight;outline-color:-webkit-focus-ring-color;outline-offset:.2em}input[type=color]{inline-size:var(--h);block-size:var(--h);border:0;opacity:0;pointer-events:initial}input[type=color]::-webkit-color-swatch-wrapper{padding:0;margin:0;border:0}input[type=color]::-webkit-color-swatch{border:none}input[type=color]::-moz-color-swatch{border:none}#picker-wrapper{--rad: 4px;--marg: 2px;inline-size:var(--h);block-size:var(--h);position:relative;pointer-events:none;border-radius:var(--rad)}#picker-wrapper:before,#picker-wrapper:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}#picker-wrapper:before{background:#fff;border:1px solid var(--dark-grey);border-radius:var(--rad)}#picker-wrapper:after{background:var(--clr, #000);margin:var(--marg);border-radius:calc(var(--rad) - var(--marg))}input[type=range]{grid-column:1/-1;width:100%;--height: .875rem;--thumb-d: calc(var(--height) * 4/3)}input[type=range]::-webkit-slider-runnable-track{box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:var(--height);border-radius:2px;background-image:linear-gradient(to right,transparent,var(--clr-grad, #000)),repeating-conic-gradient(var(--light-grey) 0 90deg,var(--dark-grey) 90deg 180deg);background-size:100%,var(--height) var(--height)}input[type=range]::-webkit-slider-thumb{box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:var(--thumb-d);width:8px;margin-block-start:calc(.5 * (var(--height) - var(--thumb-d)));border:none;border-radius:2px;background:var(--light-grey);box-shadow:0 0 4px var(--dark-grey) inset,0 0 0 1px var(--dark-grey) inset,1px 1px 3px #111c,0 0 1px #0d0d0d;cursor:ew-resize}input[type=range]::-moz-range-track{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:var(--height);border-radius:2px;background-image:linear-gradient(to right,transparent,var(--clr-grad, #000)),repeating-conic-gradient(var(--light-grey) 0 90deg,var(--dark-grey) 90deg 180deg);background-size:100%,var(--height) var(--height)}input[type=range]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:var(--thumb-d);height:var(--thumb-d);border:none;border-radius:50%;background:var(--light-grey);box-shadow:0 0 0 1px var(--dark-grey) inset,1px 1px 3px #111,0 0 1px #0d0d0d;cursor:ew-resize}',i=document.createElement("template");i.innerHTML=`
<div class="colorPicker">
    <div id="picker-wrapper">
        <input type="color" id="picker">
    </div>
    <label for="picker"></label>
    <input type="range" id="slider" min="0" max="255" aria-label="Transparency value">
</div>`;class n extends HTMLElement{constructor(){super();let e=this.attachShadow({mode:"open",delegatesFocus:!0});const r=document.createElement("style");r.innerHTML=o,this.shadowRoot.appendChild(r),e.appendChild(i.content.cloneNode(!0)),this.root=e.querySelector("div:first-of-type"),this.picker=this.root.querySelector("#picker"),this.pickerLabel=this.root.querySelector('label[for="picker"]'),this.slider=this.root.querySelector("#slider"),this.defaultColor="#000000",this.defaultAlpha=255,this.label,this.color=null,this.alpha=null,this.value=null}static get observedAttributes(){return["label","value"]}get label(){return this.getAttribute("label")}set label(e){e?this.setAttribute("label",e):this.removeAttribute("label")}get value(){return this.getAttribute("value")}set value(e){e?this.setAttribute("value",e):this.removeAttribute("value")}handleEvent(e){const r=e.path||e.composedPath&&e.composedPath();if(e.type==="change"||e.type==="input"){r.includes(this.picker)?(this.color=e.target.value,this.shadowRoot.host.style.setProperty("--clr-grad",this.color)):r.includes(this.slider)&&(this.alpha=parseInt(e.target.value)),this._setColor();const a=new Event(e.type,{bubbles:!0,composed:!0});this.dispatchEvent(a)}}connectedCallback(){this.picker.value=this.color,this.slider.value=this.alpha,this.shadowRoot.host.style.setProperty("--clr-grad",this.color),this.picker.addEventListener("input",this),this.picker.addEventListener("change",this),this.slider.addEventListener("input",this),this.slider.addEventListener("change",this)}disconnectedCallback(){}attributeChangedCallback(e,r,a){if(r!=a){if(e==="label")this.label=a,this.pickerLabel.textContent=this.label;else if(e==="value"){let t=a.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i);if(t)this.color=`#${t[1]}${t[1]}${t[2]}${t[2]}${t[3]}${t[3]}`,this.alpha=t[4]?parseInt(t[4]+t[4],16):this.defaultAlpha;else{if(t=a.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i),!t)return this.color=this.defaultColor,this.alpha=this.defaultAlpha,alert(`Color value for ${this.label} is not correct!`);this.color=`#${t[1]}${t[2]}${t[3]}`,this.alpha=t[4]?parseInt(t[4],16):this.defaultAlpha}this.picker.value=this.color,this.slider.value=this.alpha,this._setColor()}}}_setColor(){this.value=`${this.color}${this.alpha.toString(16).padStart(2,"0")}`,this.shadowRoot.host.style.setProperty("--clr",this.value)}}window.addEventListener("load",s=>{customElements.define("color-picker",n)})})();
